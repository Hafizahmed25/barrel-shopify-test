<div
  class="account-new-addr"
  is="account-new-address"
  :first-name="activeAddress.firstName"
  :last-name="activeAddress.lastName"
  :company="activeAddress.company"
  :address1="activeAddress.address1"
  :address2="activeAddress.address2"
  :city="activeAddress.city"
  :province="activeAddress.province"
  :zip="activeAddress.zip"
  :country="activeAddress.country"
  :phone="activeAddress.phone"
  :is-default="activeAddress.isDefault"
  :id="activeAddress.id"
  :toggle-new-address-form="toggleNewAddressForm"
  :key="'address-' + activeAddress.id"
  inline-template>
  <div v-on:submit="submit" ref="wrapper">

    <form method="post" :action="formAction" id="address_form_new" accept-charset="UTF-8">
      <input type="hidden" name="form_type" value="customer_address" />
      <input type="hidden" name="utf8" value="âœ“" />
      <input v-if="id" type="hidden" name="_method" value="put" />

      {% if form.errors %}
         {{ form.errors | default_errors }}
      {% endif %}

      <h4 class="h4 align-c address-form__title" ref="title">Add Address</h4>

      <div class="address-form__group">
        <div class="address-form__input">
          {% include 'text-input' with
            name: 'address[first_name]',
            label: 'First Name',
            @change: 'onInputChange',
            :value: "getInitialValue",
            error: 'First Name is required',
            required: true %}
        </div>

        <div class="address-form__input">
          {% include 'text-input' with
            name: 'address[last_name]',
            label: 'Last Name',
            @change: 'onInputChange',
            :value: "getInitialValue",
            error: 'Last Name is required',
            required: true %}
        </div>
      </div>

      <div class="address-form__group">
        <div class="address-form__input">
          {% include 'text-input' with
          name: 'address[company]',
          label: 'Company',
          @change: 'onInputChange',
          :value: "getInitialValue", %}
        </div>
        <div class="address-form__input">
          {% include 'text-input' with
          name: 'address[phone]',
          label: 'Phone',
          @change: 'onInputChange',
          :value: "getInitialValue" %}
        </div>
      </div>

      <div class="address-form__group">
        <div class="address-form__input">
          {% include 'text-input' with
            name: 'address[address1]',
            label: 'Address',
            @change: 'onInputChange',
            :value: "getInitialValue",
            error: 'Address is required',
            required: true %}
        </div>
        <div class="address-form__input">
          {% include 'text-input' with
            class:'address-form__input',
            name: 'address[address2]',
            label: 'Apt, Suite, etc. (optional)',
            @change: 'onInputChange',
            :value: "getInitialValue",
            required: false %}
        </div>
      </div>

      <div class="address-form__group">
        <div class="address-form__input">
        {% include 'text-input' with
          name: 'address[city]',
          label: 'City',
          @change: 'onInputChange',
          :value: "getInitialValue",
          error: 'City is required',
          required: true %}
        </div>
        <div class="address-form__input">
          {% include 'select-input' with
            name: 'address[country]',
            label: 'Country',
            v_value: "getInitialValue",
            v_options: 'generateCountryArray',
            @change: 'onInputChange',
            error: 'Country is required',
            required: true %}
        </div>
      </div>

      <div class="address-form__group">
        <div :key="country" class="address-form__input" v-if="showProvinceSelect">
        {% include 'select-input' with
          name: 'address[province]',
          label: 'State/Province',
          @change: 'onInputChange',
          v_value: "getInitialValue",
          v_options: 'generateProvinceArray',
          error: 'Province is required',
          required: true %}
        </div>
        <div :key="country" class="address-form__input" v-else="showProvinceSelect"></div>

        <div class="address-form__input">
          {% include 'text-input' with
            name: 'address[zip]',
            label: 'Zip / Postal Code',
            value: "getInitialValue",
            :validate: 'isValidZip',
            @change: 'onInputChange',
            error: 'Zip is required'
            required: true %}
        </div>
      </div>

      {% include 'checkbox' with
        name: 'address[default]',
        label: 'Set as default address.',
        class: 'account-form__checkbox'
        :checked: "getInitialValue('address[default]')",
        @change: 'onInputChange'
      %}

      <p class="pt1 f">
        <button type="submit" class="button button--solid">Add Address</button>
        <button class="underline ml1" v-on:click.prevent="toggleNewAddressForm(false)">Cancel</button>
      </p>
    </form>
  </div>
</div>

{% assign form_id = false %}
{% assign form_classes = '' %}
