{% paginate customer.addresses by 50 %}
<div data-module="account-address">
  <transition name="fade">
    <div v-if="showNewAddressForm" ref="newAddressForm" v-cloak>
      {% include 'account-new-address' %}
    </div>
  </transition>

  <h4 class="h4 uppercase align-c account-address__title">{{ 'customer.addresses.title' | t }}</h4>

  {%- if customer.addresses.size != 0 -%}
    <div class="account-address__list" v-cloak>
    {%- for address in customer.addresses -%}
      {%- assign default = '' -%}
      {%- if address == customer.default_address -%}
        {%- assign default = 1 -%}
      {%- endif %}
      <div
        is="account-address-item"
        first-name="{{address.first_name}}"
        last-name="{{address.last_name}}"
        company="{{address.company}}"
        address1="{{address.address1}}"
        address2="{{address.address2}}"
        city="{{address.city}}"
        province="{{address.province_code}}"
        zip="{{address.zip}}"
        country="{{address.country_code}}"
        phone="{{address.phone}}"
        is-default="{{default}}"
        key="address-{{address.id}}"
        id="{{address.id}}"
        v-on:update="populateAddressForm"
        inline-template>
      <div class="account-address__item relative">
          <h5 v-if="isDefault" class="h5 account-address__default">Default</h5>
          <p class="p2">
            <span class="h5 account-address__name">
              <span v-text="firstName + ' ' + lastName"></span>
            </span>
            <br v-if="company">
            <span v-if="company" v-text="company"></span>
            <br>
            <span v-text="address1 + ' ' + address2"></span>
            <br>
            <span v-text="city"></span>
            <span v-if="province" class="uppercase" v-text="' ' + province"></span>
            <span class="uppercase" v-text="' ' + zip"></span>
            <span class="uppercase" v-text="' ' + country"></span>
            <br>
            <span v-text="phone"></span>
          </p>
          <div class="account-address__footer">
            <button class="link" v-on:click="update">{{ 'customer.addresses.edit' | t }}</button>
            <button class="link" v-on:click="remove">{{ 'customer.addresses.remove' | t }}</button>
          </div>
        </div>
      </div>
    {%- endfor -%}
    </div>
  {%- else -%}
    <div class="">
      {% include 'empty-view', is_vue: true, show_button: false, text: "Let's add our first address!" %}
    </div>
  {%- endif -%}
  <div class="align-c account-adddress__add-address">
    {%- assign btn_text = 'customer.addresses.add' | t -%}
    {% include 'button' with value: btn_text, attr: 'v-on:click="showEmptyForm"' %}
    {%- assign btn_text = nil -%}
  </div>
</div>
{% endpaginate %}
